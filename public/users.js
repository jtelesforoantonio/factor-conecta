(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{23:function(e,r,t){"use strict";t.r(r);var s=t(4),n=t(0),o={name:"Errors",props:{errors:{type:Array,required:!0}}},a=t(1),i=Object(a.a)(o,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("v-alert",{attrs:{type:"error"}},[t("ul",e._l(e.errors,(function(r,s){return t("li",{key:s},[e._v(e._s(r))])})),0)])}),[],!1,null,"6c0c5942",null).exports,l=t(6),c=t(7);function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,s)}return t}function d(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}(function(){Object(n.c)("required",l.c),Object(n.c)("alpha_spaces",l.a),Object(n.c)("email",l.b),Object(n.c)("nick",(function(e){return!!/^[_?A-Za-z][A-Za-z0-9]+$/i.test(e)||"El nick es invalido"})),Object(n.d)("es",c)})();var v={name:"Edit",components:{ValidationObserver:n.a,ValidationProvider:n.b,Errors:i},data:function(){return{user:{index:"",id:"",nick:"",name:"",last_name:"",email:"",password:"",role_id:""},roles:[{id:1,name:"Admin"},{id:2,name:"Operador"},{id:3,name:"Administrativo"}]}},methods:{clearForm:function(){this.$refs.form.reset(),this.user.index="",this.user.id="",this.user.nick="",this.user.name="",this.user.last_name="",this.user.email="",this.user.password="",this.user.role_id=""},closeDialog:function(){this.clearForm(),this.$store.dispatch("user/showEditDialog",!1)},update:function(){this.$store.dispatch("user/update",this.user)}},computed:function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?u(Object(t),!0).forEach((function(r){d(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},Object(s.b)("user",["showEditDialog","isUpdating","errors"])),watch:{showEditDialog:function(e){if(e){var r=this.$store.state.user.userToEdit;Object.assign(this.user,r),this.user.role_id=r.role.id}else this.clearForm()}}},f=Object(a.a)(v,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("v-row",{attrs:{justify:"center"}},[t("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.showEditDialog,callback:function(r){e.showEditDialog=r},expression:"showEditDialog"}},[t("v-card",[t("v-card-title",[t("span",{staticClass:"headline"},[e._v("Editar usuario")])]),e._v(" "),t("ValidationObserver",{ref:"form",scopedSlots:e._u([{key:"default",fn:function(r){var s=r.handleSubmit;return[t("v-card-text",[t("v-container",[t("errors",{directives:[{name:"show",rawName:"v-show",value:e.errors.length,expression:"errors.length"}],attrs:{errors:e.errors}}),e._v(" "),t("ValidationProvider",{attrs:{name:"nick",rules:"required|nick"},scopedSlots:e._u([{key:"default",fn:function(r){var s=r.errors;return[t("v-text-field",{attrs:{label:"Nick *",outlined:"",required:"",autofocus:"","error-messages":s},model:{value:e.user.nick,callback:function(r){e.$set(e.user,"nick",r)},expression:"user.nick"}})]}}],null,!0)}),e._v(" "),t("ValidationProvider",{attrs:{name:"nombre",rules:"required|alpha_spaces"},scopedSlots:e._u([{key:"default",fn:function(r){var s=r.errors;return[t("v-text-field",{attrs:{label:"Nombre *",outlined:"",required:"","error-messages":s},model:{value:e.user.name,callback:function(r){e.$set(e.user,"name",r)},expression:"user.name"}})]}}],null,!0)}),e._v(" "),t("ValidationProvider",{attrs:{name:"apellidos",rules:"alpha_spaces"},scopedSlots:e._u([{key:"default",fn:function(r){var s=r.errors;return[t("v-text-field",{attrs:{label:"Apellidos",outlined:"",required:"","error-messages":s},model:{value:e.user.last_name,callback:function(r){e.$set(e.user,"last_name",r)},expression:"user.last_name"}})]}}],null,!0)}),e._v(" "),t("ValidationProvider",{attrs:{name:"correo",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(r){var s=r.errors;return[t("v-text-field",{attrs:{type:"email",label:"Correo *",outlined:"",required:"","error-messages":s},model:{value:e.user.email,callback:function(r){e.$set(e.user,"email",r)},expression:"user.email"}})]}}],null,!0)}),e._v(" "),t("ValidationProvider",{attrs:{name:"role",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var s=r.errors;return[t("v-select",{attrs:{outlined:"",label:"Role *",items:e.roles,"item-text":"name","item-value":"id","error-messages":s},model:{value:e.user.role_id,callback:function(r){e.$set(e.user,"role_id",r)},expression:"user.role_id"}})]}}],null,!0)}),e._v(" "),t("v-text-field",{attrs:{type:"password",label:"Contraseña *",outlined:"",required:""},model:{value:e.user.password,callback:function(r){e.$set(e.user,"password",r)},expression:"user.password"}})],1)],1),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"secondary",text:""},on:{click:e.closeDialog}},[e._v("Cancelar")]),e._v(" "),t("v-btn",{attrs:{color:"green",text:"",loading:e.isUpdating},on:{click:function(r){return s(e.update)}}},[e._v("Guardar")])],1)]}}])})],1)],1)],1)}),[],!1,null,"59a00eef",null).exports;function p(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,s)}return t}function b(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var m={name:"Delete",data:function(){return{user:{index:"",id:""}}},methods:{closeDialog:function(){this.$store.dispatch("user/showDeleteDialog",!1)},destroy:function(){this.$store.dispatch("user/destroy",this.user)}},computed:function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?p(Object(t),!0).forEach((function(r){b(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},Object(s.b)("user",["showDeleteDialog","isDeleting"])),watch:{showDeleteDialog:function(e){if(e){var r=this.$store.state.user.userToDelete;Object.assign(this.user,r)}}}};function h(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,s)}return t}function _(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?h(Object(t),!0).forEach((function(r){g(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function g(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var O={name:"Index",components:{Edit:f,Delete:Object(a.a)(m,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("v-row",{attrs:{justify:"center"}},[t("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.showDeleteDialog,callback:function(r){e.showDeleteDialog=r},expression:"showDeleteDialog"}},[t("v-card",[t("v-card-title",{staticClass:"headline"},[e._v("Eliminar usuario")]),e._v(" "),t("v-card-text",[e._v("\n        ¿Estas seguro de querer eliminar este registro?\n      ")]),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"secondary",text:""},on:{click:e.closeDialog}},[e._v("Cancelar")]),e._v(" "),t("v-btn",{attrs:{color:"red",text:"",loading:e.isDeleting},on:{click:e.destroy}},[e._v("Aceptar")])],1)],1)],1)],1)}),[],!1,null,"0baab444",null).exports},data:function(){return{page:1}},mounted:function(){this.index()},methods:{index:function(){this.$store.dispatch("user/index",{page:this.page})},showEditDialog:function(e,r){this.$store.dispatch("user/showEditDialog",!0),this.$store.dispatch("user/setUserToEdit",_({index:e},r))},showDeleteDialog:function(e,r){this.$store.dispatch("user/showDeleteDialog",!0),this.$store.dispatch("user/setUserToDelete",_({index:e},r))}},computed:_({},Object(s.b)("user",["users","totalPages"]))},w=Object(a.a)(O,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",[e._v("Nick")]),e._v(" "),t("th",{staticClass:"text-left"},[e._v("Nombre")]),e._v(" "),t("th",{staticClass:"text-left"},[e._v("Apellidos")]),e._v(" "),t("th",{staticClass:"text-left"},[e._v("Email")]),e._v(" "),t("th",{staticClass:"text-left"},[e._v("Role")]),e._v(" "),t("th",{staticClass:"text-left"},[e._v("Acciones")])])]),e._v(" "),t("tbody",e._l(e.users,(function(r,s){return t("tr",{key:r.id},[t("td",[e._v(e._s(r.nick))]),e._v(" "),t("td",[e._v(e._s(r.name))]),e._v(" "),t("td",[e._v(e._s(r.last_name))]),e._v(" "),t("td",[e._v(e._s(r.email))]),e._v(" "),t("td",[e._v(e._s(r.role.name))]),e._v(" "),t("td",[t("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(t){return e.showEditDialog(s,r)}}},[e._v("\n            Editar\n          ")]),e._v(" "),t("v-btn",{attrs:{color:"error",small:"",text:""},on:{click:function(t){return e.showDeleteDialog(s,r)}}},[e._v("\n            Eliminar\n          ")])],1)])})),0)]},proxy:!0}])}),e._v(" "),t("v-pagination",{attrs:{length:e.totalPages,"total-visible":5},on:{input:e.index},model:{value:e.page,callback:function(r){e.page=r},expression:"page"}}),e._v(" "),t("edit"),e._v(" "),t("delete")],1)}),[],!1,null,"7c7dc7a3",null).exports;function y(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,s)}return t}function j(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}(function(){Object(n.c)("required",l.c),Object(n.c)("alpha_spaces",l.a),Object(n.c)("email",l.b),Object(n.c)("nick",(function(e){return!!/^[_?A-Za-z][A-Za-z0-9]+$/i.test(e)||"El nick es invalido"})),Object(n.d)("es",c)})();var x={name:"Create",components:{ValidationObserver:n.a,ValidationProvider:n.b,Errors:i},data:function(){return{user:{nick:"",name:"",last_name:"",email:"",password:"",role_id:""},roles:[{id:1,name:"Admin"},{id:2,name:"Operador"},{id:3,name:"Administrativo"}]}},methods:{clearForm:function(){this.$refs.form.reset(),this.user.nick="",this.user.name="",this.user.last_name="",this.user.email="",this.user.password="",this.user.role_id=""},closeDialog:function(){this.$store.dispatch("user/showCreateDialog",!1)},store:function(){this.$store.dispatch("user/store",this.user)}},computed:function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?y(Object(t),!0).forEach((function(r){j(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},Object(s.b)("user",["showCreateDialog","isStoring","errors"])),watch:{showCreateDialog:function(e){e||this.clearForm()}}};function k(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,s)}return t}function D(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var P={name:"User",components:{Index:w,Create:Object(a.a)(x,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("v-row",{attrs:{justify:"center"}},[t("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.showCreateDialog,callback:function(r){e.showCreateDialog=r},expression:"showCreateDialog"}},[t("v-card",[t("v-card-title",[t("span",{staticClass:"headline"},[e._v("Crear usuario")])]),e._v(" "),t("ValidationObserver",{ref:"form",scopedSlots:e._u([{key:"default",fn:function(r){var s=r.handleSubmit;return[t("v-card-text",[t("v-container",[t("errors",{directives:[{name:"show",rawName:"v-show",value:e.errors.length,expression:"errors.length"}],attrs:{errors:e.errors}}),e._v(" "),t("ValidationProvider",{attrs:{name:"nick",rules:"required|nick"},scopedSlots:e._u([{key:"default",fn:function(r){var s=r.errors;return[t("v-text-field",{attrs:{label:"Nick *",outlined:"",required:"",autofocus:"","error-messages":s},model:{value:e.user.nick,callback:function(r){e.$set(e.user,"nick",r)},expression:"user.nick"}})]}}],null,!0)}),e._v(" "),t("ValidationProvider",{attrs:{name:"nombre",rules:"required|alpha_spaces"},scopedSlots:e._u([{key:"default",fn:function(r){var s=r.errors;return[t("v-text-field",{attrs:{label:"Nombre *",outlined:"",required:"","error-messages":s},model:{value:e.user.name,callback:function(r){e.$set(e.user,"name",r)},expression:"user.name"}})]}}],null,!0)}),e._v(" "),t("ValidationProvider",{attrs:{name:"apellidos",rules:"alpha_spaces"},scopedSlots:e._u([{key:"default",fn:function(r){var s=r.errors;return[t("v-text-field",{attrs:{label:"Apellidos",outlined:"",required:"","error-messages":s},model:{value:e.user.last_name,callback:function(r){e.$set(e.user,"last_name",r)},expression:"user.last_name"}})]}}],null,!0)}),e._v(" "),t("ValidationProvider",{attrs:{name:"correo",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(r){var s=r.errors;return[t("v-text-field",{attrs:{type:"email",label:"Correo *",outlined:"",required:"","error-messages":s},model:{value:e.user.email,callback:function(r){e.$set(e.user,"email",r)},expression:"user.email"}})]}}],null,!0)}),e._v(" "),t("ValidationProvider",{attrs:{name:"role",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var s=r.errors;return[t("v-select",{attrs:{outlined:"",label:"Role *",items:e.roles,"item-text":"name","item-value":"id","error-messages":s},model:{value:e.user.role_id,callback:function(r){e.$set(e.user,"role_id",r)},expression:"user.role_id"}})]}}],null,!0)}),e._v(" "),t("ValidationProvider",{attrs:{name:"contraseña",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var s=r.errors;return[t("v-text-field",{attrs:{type:"password",label:"Contraseña *",outlined:"",required:"","error-messages":s},model:{value:e.user.password,callback:function(r){e.$set(e.user,"password",r)},expression:"user.password"}})]}}],null,!0)})],1)],1),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"secondary",text:""},on:{click:e.closeDialog}},[e._v("Cancelar")]),e._v(" "),t("v-btn",{attrs:{color:"green",text:"",loading:e.isStoring},on:{click:function(r){return s(e.store)}}},[e._v("Guardar")])],1)]}}])})],1)],1)],1)}),[],!1,null,"0c3bf475",null).exports},computed:function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?k(Object(t),!0).forEach((function(r){D(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},Object(s.b)("user",["loading"])),methods:{showCreateDialog:function(){this.$store.dispatch("user/showCreateDialog",!0)}}},E=Object(a.a)(P,(function(){var e=this.$createElement,r=this._self._c||e;return r("v-card",{attrs:{loading:this.loading}},[r("v-card-text",[r("div",{staticClass:"text-right"},[r("v-btn",{attrs:{color:"green",text:""},on:{click:this.showCreateDialog}},[this._v("\n        Agregar\n      ")])],1),this._v(" "),r("index"),this._v(" "),r("create")],1)],1)}),[],!1,null,"6b27e10f",null);r.default=E.exports}}]);